
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <base href="https://obousquet.github.io/math_database/">
        <title>Main Graph</title>
        <link rel="stylesheet" href="styles.css">
        
    <style>
    .nav-menu { display:inline-block; position:relative; margin-left:1em; }
    .menu-btn { background:none; border:none; font-size:1em; cursor:pointer; padding:0.2em 0.7em; color:#fff; }
    .menu-list { position:absolute; left:0; top:100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border:1px solid #444; min-width:120px; z-index:10; list-style:none; margin:0; padding:0; box-shadow:0 2px 8px rgba(0,0,0,0.08); }
    .menu-list li a { display:block; padding:0.4em 1em; text-decoration:none; color:#fff; }
    .menu-list li a:hover { background:#444; color:#fff; }
    nav a { color:#fff; }
    </style>
    <script>
    function toggleMenu(id) {
        var menu = document.getElementById(id);
        var isOpen = menu.style.display === 'block';
        // Close all menus
        document.querySelectorAll('.menu-list').forEach(function(m) { m.style.display = 'none'; });
        menu.style.display = isOpen ? 'none' : 'block';
    }
    // Close menus when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.classList.contains('menu-btn')) {
            document.querySelectorAll('.menu-list').forEach(function(m) { m.style.display = 'none'; });
        }
    });
    </script>
    
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>
            window.MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                }
            };</script>
    <link rel="stylesheet" href="styles/graph.css" />
    
    </head>
    <body>
        <header>
            <h1>Main Graph</h1>
            
            <nav>
                <a href="index.html">Home</a>
                <a href="https://github.com/obousquet/math_database" target="_blank">About</a>
                <a href="bibliography.html">Bibliography</a>
        <div class="nav-menu">
            <button class="menu-btn" onclick="toggleMenu('graphs-menu')" aria-haspopup="true" aria-expanded="false">Graphs â–¼</button>
            <ul id="graphs-menu" class="menu-list" style="display:none;"><li><a href="graphs/main.html">Main Graph</a></li></ul>
        </div>
    
        <div class="nav-menu">
            <button class="menu-btn" onclick="toggleMenu('tables-menu')" aria-haspopup="true" aria-expanded="false">Tables â–¼</button>
            <ul id="tables-menu" class="menu-list" style="display:none;"><li><a href="equations/index.html">Equations</a></li><li><a href="mathematicians/index.html">Mathematicians</a></li></ul>
        </div>
    
            </nav>
        </header>
        <main class="table-container">
            
    <div id='graph-container-main' class='graph-container-main'>
        <button id='legend-button' onclick='document.getElementById("legend-modal").style.display="block"' style='position:absolute; top:10px; left:10px; z-index:100; padding:0.5em 1em; background:#4CAF50; color:white; border:none; border-radius:4px; cursor:pointer; font-size:1em;'>ðŸ“Š Legend</button>
        <div id='graph'></div>
        <div id='node-modal' class='node-modal'>
            <div id='node-modal-content' class='node-modal-content'></div>
            <button onclick='document.getElementById("node-modal").style.display="none"' style='margin:1em auto;display:block;'>Close</button>
        </div>
        <div id='legend-modal' class='node-modal' style='display:none;'>
            <div class='node-modal-content' style='max-width: 800px; min-width: 600px;'>
                <h3 style='margin-bottom:1em;'>Legend</h3>
                <table id='legend-table' style='width:100%; border-collapse: collapse;'>
                </table>
            </div>
            <button onclick='document.getElementById("legend-modal").style.display="none"' style='margin:1em auto;display:block;'>Close</button>
        </div>
    </div>
    
        </main>
        <footer>
            <p>Generated with Python â€¢ Hosted on GitHub Pages</p>
        </footer>
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const equations = document.querySelectorAll('.latex-equation');
                equations.forEach(eq => {
                    const latex = eq.getAttribute('data-latex');
                    eq.innerHTML = '$$' + latex + '$$';
                });
                function tryTypeset() {{
                    if (window.MathJax && typeof MathJax.typesetPromise === 'function') {{
                        MathJax.typesetPromise();
                    }} else {{
                        setTimeout(tryTypeset, 100);
                    }}
                }}
                tryTypeset();
            });
        </script>
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/d3.min.js"></script>
    <script src="js/hpcc.min.js"></script>
    <script src="js/d3-graphviz.js"></script>
    <script>
    const nodeCards = {"#mathematicians/1": "\n    <div class=\"table-card\" id=\"math-1\" style=\"position:relative;\">\n        \n        <h3><a href=\"mathematicians/euler.html\" class=\"table-title-link\">Leonhard Euler</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Leonhard Euler</p>\n<p><strong>Nationality: </strong>Swiss</p>\n<p><strong>Major Contributions:</strong><ul class='fields-list'><li><a href=\"equations/eulers_identity.html\">Euler's Identity</a></li><li>Graph theory</li><li>Number theory</li><li>Calculus of variations</li><li>Topology</li></ul></p>\n<div class=\"reference-field\"><p><strong>Author Of:</strong><ul class='fields-list'><li><a href='equations/eulers_identity.html'>Euler's Identity</a></li></ul></p></div>\n<strong>Biography:</strong><div class=\"text-field\"><p>One of the most prolific mathematicians in history, Euler made groundbreaking contributions to nearly every area of mathematics. He introduced much of the mathematical notation still used today and solved many important problems in analysis, number theory, and mechanics.</p></div>\n<p><strong>Alive:</strong> Unspecified</p>\n\n        </div>\n    </div>\n    ", "#mathematicians/2": "\n    <div class=\"table-card\" id=\"math-2\" style=\"position:relative;\">\n        \n        <h3><a href=\"mathematicians/newton.html\" class=\"table-title-link\">Isaac Newton</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Isaac Newton</p>\n<p><strong>Nationality: </strong>English</p>\n<p><strong>Major Contributions:</strong><ul class='fields-list'><li>Calculus</li><li>Laws of motion</li><li>Universal gravitation</li><li>Binomial theorem</li><li>Method of fluxions</li></ul></p>\n<div class=\"reference-field\"><p><strong>Author Of:</strong> <em>None</em></p></div>\n<strong>Biography:</strong><div class=\"text-field\"><p>Newton revolutionized mathematics and physics with his development of calculus and laws of motion. His work laid the foundation for classical mechanics and much of modern mathematics.</p></div>\n<p><strong>Alive:</strong> No</p>\n\n        </div>\n    </div>\n    ", "#mathematicians/3": "\n    <div class=\"table-card\" id=\"math-3\" style=\"position:relative;\">\n        \n        <h3><a href=\"mathematicians/gauss.html\" class=\"table-title-link\">Carl Friedrich Gauss</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Carl Friedrich Gauss</p>\n<p><strong>Nationality: </strong>German</p>\n<p><strong>Major Contributions:</strong><ul class='fields-list'><li>Number theory</li><li>Differential geometry</li><li>Statistics</li><li>Analysis</li><li>Astronomy</li></ul></p>\n<div class=\"reference-field\"><p><strong>Author Of:</strong> <em>None</em></p></div>\n<strong>Biography:</strong><div class=\"text-field\"><p>Known as the 'Prince of Mathematics', Gauss made significant contributions to many fields including number theory, statistics, analysis, differential geometry, geodesy, geophysics, mechanics, electrostatics, astronomy, matrix theory, and optics.</p></div>\n<p><strong>Alive:</strong> Unspecified</p>\n\n        </div>\n    </div>\n    ", "#equations/1": "\n    <div class=\"table-card\" id=\"math-1\" style=\"position:relative;\">\n        \n        <h3><a href=\"equations/quadratic_formula.html\" class=\"table-title-link\">Quadratic Formula</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Quadratic Formula</p>\n<strong>Equation:</strong>\n    <div class=\"table-display\">\n        <div class=\"latex-equation\" data-latex=\"x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\">\n            x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\n        </div>\n    </div>\n    \n<p><strong>Category:</strong> Algebra</p>\n<strong>Description:</strong><div class=\"text-field\"><p>The quadratic formula provides the solutions to any quadratic equation of the form $ax^2 + bx + c = 0$.</p></div>\n<p><strong>Applications:</strong><ul class='fields-list'><li>Solving quadratic equations</li><li>Finding roots of parabolas</li><li>Optimization problems</li><li>Physics projectile motion</li></ul></p>\n\n\n        </div>\n    </div>\n    ", "#equations/2": "\n    <div class=\"table-card\" id=\"math-2\" style=\"position:relative;\">\n        \n        <h3><a href=\"equations/pythagorean_theorem.html\" class=\"table-title-link\">Pythagorean Theorem</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Pythagorean Theorem</p>\n<strong>Equation:</strong>\n    <div class=\"table-display\">\n        <div class=\"latex-equation\" data-latex=\"a^2 + b^2 = c^2\">\n            a^2 + b^2 = c^2\n        </div>\n    </div>\n    \n<p><strong>Category:</strong> Geometry</p>\n<strong>Description:</strong><div class=\"text-field\"><p>In a right triangle, the square of the hypotenuse equals the sum of squares of the other two sides.</p></div>\n<p><strong>Applications:</strong><ul class='fields-list'><li>Right triangle calculations</li><li>Distance calculations</li><li>Engineering and construction</li><li>Navigation and GPS systems</li></ul></p>\n<p><strong>Author: </strong>pythagoras</p>\n\n        </div>\n    </div>\n    ", "#equations/3": "\n    <div class=\"table-card\" id=\"math-3\" style=\"position:relative;\">\n        \n        <h3><a href=\"equations/eulers_identity.html\" class=\"table-title-link\">Euler's Identity</a></h3>\n        <div class=\"table-details\">\n        <p><strong>Name: </strong>Euler's Identity</p>\n<strong>Equation:</strong>\n    <div class=\"table-display\">\n        <div class=\"latex-equation\" data-latex=\"e^{i\\pi} + 1 = 0\">\n            e^{i\\pi} + 1 = 0\n        </div>\n    </div>\n    \n<p><strong>Category:</strong> Algebra</p>\n<strong>Description:</strong><div class=\"text-field\"><p>Often called the most beautiful equation in mathematics, connecting five fundamental mathematical constants (see <a href=\"bibliography.html#e2008\">[e2008]</a>).</p></div>\n<p><strong>Applications:</strong><ul class='fields-list'><li>Complex analysis</li><li>Signal processing</li><li>Quantum mechanics</li><li>Electrical engineering</li></ul></p>\n<p><strong>Author: </strong><a href=\"mathematicians/euler.html\">Leonhard Euler</a></p>\n\n        </div>\n    </div>\n    "};
    const edgeCards = {};
    const legendItems = [{"index": 0, "type": "node", "text": "Mathematician", "dot_src": "digraph \"\" { graph [bgcolor=transparent, margin=0]; node [label=\"\\N\", penwidth=1.8]; edge [arrowhead=vee]; \"item\" [label=\"Mathematician\", color=\"#4F81BD\", fillcolor=\"#D9E1F2\", style=filled, shape=ellipse]; }"}, {"index": 1, "type": "node", "text": "Equation", "dot_src": "digraph \"\" { graph [bgcolor=transparent, margin=0]; node [label=\"\\N\", penwidth=1.8]; edge [arrowhead=vee]; \"item\" [label=\"Equation\", color=\"#C0504D\", fillcolor=\"#F2DCDB\", style=filled, shape=box]; }"}, {"index": 2, "type": "edge", "text": "Author relationship", "dot_src": "digraph \"\" { graph [bgcolor=transparent, margin=0]; node [label=\"\\N\", penwidth=1.8]; edge [arrowhead=vee]; \"src\" [shape=point, width=0.08, height=0.08]; \"dst\" [shape=point, width=0.08, height=0.08]; \"src\" -> \"dst\" [color=\"#C0504D\", arrowhead=open, style=dashed, penwidth=1.5, minlen=3]; {rank=same; \"src\"; \"dst\";} }"}];
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Initializing graph visualization');
        const graphContainer = d3.select('#graph-container-main');
        let width = graphContainer.node().clientWidth;
        let height = graphContainer.node().clientHeight;
        if (height < 600) height = 600;
        const graph = d3.select('#graph');
        console.log('Rendering main graph with dimensions:', width, 'x', height);
        graph.graphviz({useWorker: false})
            .width(width)
            .height(height)
            .fit(true)
            .renderDot(`strict digraph "" {graph [bgcolor=transparent]; node [label="\N", penwidth=1.8]; edge [arrowhead=vee]; "#mathematicians/1" [label="Leonhard Euler", color="#4F81BD", fillcolor="#D9E1F2", style=filled, shape=ellipse]; "#mathematicians/2" [label="Isaac Newton", color="#4F81BD", fillcolor="#D9E1F2", style=filled, shape=ellipse]; "#mathematicians/3" [label="Carl Friedrich Gauss", color="#4F81BD", fillcolor="#D9E1F2", style=filled, shape=ellipse]; "#equations/1" [label="Quadratic Formula", color="#C0504D", fillcolor="#F2DCDB", style=filled, shape=box]; "#equations/2" [label="Pythagorean Theorem", color="#C0504D", fillcolor="#F2DCDB", style=filled, shape=box]; "#equations/3" [label="Euler's Identity", color="#C0504D", fillcolor="#F2DCDB", style=filled, shape=box]; "__edge__0" [shape=box, style=filled, fillcolor="#f0f0f0", fontsize=10, width=0.3, height=0.3, label="author"]; "#equations/3" -> "__edge__0" [label="", color="#C0504D", arrowhead=open, style=dashed, arrowsize=0.7, dir=none]; "__edge__0" -> "#mathematicians/1" [label="", color="#C0504D", arrowhead=open, style=dashed, arrowsize=0.7]; }`)
            .on('end', function() {
                console.log('Main graph rendering complete');
                d3.selectAll('.node').on('click', function(event) {
                    var node_id = d3.select(this).select('title').text();
                    if (!node_id) {
                        node_id = d3.select(this).select('text').text();
                    }
                    
                    // Check if this is an edge label node
                    if (node_id.startsWith('__edge__')) {
                        var edge_idx = parseInt(node_id.replace('__edge__', ''));
                        // Get the edge card by index
                        var edge_card = edgeCards[node_id];
                        var edge_label_key = '__label__' + edge_idx;
                        // If there's a label card, show it instead
                        if (edgeCards[edge_label_key]) {
                            edge_card = edgeCards[edge_label_key];
                        }
                        var modal = document.getElementById('node-modal');
                        var content = document.getElementById('node-modal-content');
                        content.innerHTML = edge_card || '<div class="table-card"><h3>Edge ' + edge_idx + '</h3></div>';
                        modal.style.display = 'block';
                        if (window.MathJax) MathJax.typesetPromise([content]);
                    } else {
                        // Regular node
                        var modal = document.getElementById('node-modal');
                        var content = document.getElementById('node-modal-content');
                        content.innerHTML = nodeCards[node_id] || '<div class="table-card"><h3>' + node_id + '</h3></div>';
                        modal.style.display = 'block';
                        if (window.MathJax) MathJax.typesetPromise([content]);
                    }
                });
            });
        
        // Render legend table when legend button is clicked
        let legendRendered = false;
        document.getElementById('legend-button').addEventListener('click', function() {
            if (!legendRendered) {
                const legendTable = document.getElementById('legend-table');
                
                // Create table rows for each legend item
                legendItems.forEach(function(item, idx) {
                    const row = document.createElement('tr');
                    row.style.borderBottom = '1px solid #eee';
                    
                    // SVG cell
                    const svgCell = document.createElement('td');
                    svgCell.style.padding = '5px';
                    svgCell.style.width = '100px';
                    svgCell.style.verticalAlign = 'middle';
                    const svgDiv = document.createElement('div');
                    svgDiv.id = 'legend-item-' + idx;
                    svgDiv.style.width = '100%';
                    svgDiv.style.height = '40px';
                    svgCell.appendChild(svgDiv);
                    
                    // Text cell
                    const textCell = document.createElement('td');
                    textCell.style.padding = '5px';
                    textCell.style.verticalAlign = 'middle';
                    textCell.style.fontSize = '0.9em';
                    textCell.textContent = item.text;
                    
                    row.appendChild(svgCell);
                    row.appendChild(textCell);
                    legendTable.appendChild(row);
                    
                    // Render the individual graph for this item (without worker to avoid conflicts)
                    d3.select('#legend-item-' + idx)
                        .graphviz({useWorker: false})
                        .width(100)
                        .height(40)
                        .fit(true)
                        .renderDot(item.dot_src);
                });
                
                legendRendered = true;
            }
        });
        
        // Close modals when clicking outside
        document.addEventListener('mousedown', function(e) {
            var nodeModal = document.getElementById('node-modal');
            var legendModal = document.getElementById('legend-modal');
            
            if (nodeModal.style.display === 'block' && !nodeModal.contains(e.target)) {
                nodeModal.style.display = 'none';
            }
            
            if (legendModal.style.display === 'block' && !legendModal.contains(e.target)) {
                legendModal.style.display = 'none';
            }
        });
    });
    </script>
    
    </body>
    </html>
    